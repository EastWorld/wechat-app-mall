<view class="live-page">
  <block wx:if="{{aliveRooms}}">
    <view class="live-container">
      <view class="live-card" wx:for="{{aliveRooms}}" wx:key="id" bindtap="goLiveRoom" data-id="{{item.roomid}}" data-status="{{item.live_status}}">
        <!-- ç›´æ’­å°é¢ -->
        <view class="live-cover">
          <image src="{{item.share_img}}" class="cover-image" mode="aspectFill" lazy-load="true" />
          
          <!-- ç›´æ’­çŠ¶æ€æ ‡ç­¾ -->
          <view class="status-badge status-{{item.live_status}}">
            <block wx:if="{{item.live_status == 101}}">
              <view class="status-dot"></view>
              <text class="status-text">æ­£åœ¨ç›´æ’­</text>
            </block>
            <block wx:elif="{{item.live_status == 102}}">
              <text class="status-text">å³å°†å¼€æ’­</text>
            </block>
            <block wx:elif="{{item.live_status == 103}}">
              <text class="status-text">å·²ç»“æŸ</text>
            </block>
            <block wx:else>
              <text class="status-text">å·²è¿‡æœŸ</text>
            </block>
          </view>

          <!-- æ¸å˜é®ç½© -->
          <view class="cover-mask"></view>
        </view>

        <!-- ç›´æ’­ä¿¡æ¯ -->
        <view class="live-info">
          <view class="live-title">{{item.name}}</view>
          
          <view class="live-meta">
            <view class="meta-item">
              <van-icon size="28rpx" name="manager-o" color="#666" />
              <text class="meta-text">{{item.anchor_name}}</text>
            </view>
            <view class="meta-item">
              <van-icon size="28rpx" name="clock-o" color="#666" />
              <text class="meta-text">{{item.start_time_str}}</text>
            </view>
          </view>

          <!-- æ“ä½œæŒ‰é’® -->
          <view class="live-action">
            <view wx:if="{{item.live_status == 107 || item.live_status == 106 || item.live_status == 104}}" class="action-btn btn-disabled">
              <text>å·²è¿‡æœŸ</text>
            </view>
            <view wx:elif="{{item.live_status == 102}}" class="action-btn btn-upcoming">
              <van-icon size="28rpx" name="bell" />
              <text>é¢„çº¦æé†’</text>
            </view>
            <view wx:elif="{{item.live_status == 103}}" class="action-btn btn-ended">
              <van-icon size="28rpx" name="replay" />
              <text>æŸ¥çœ‹å›æ”¾</text>
            </view>
            <view wx:else class="action-btn btn-live">
              <view class="live-pulse"></view>
              <text>è¿›å…¥ç›´æ’­é—´</text>
            </view>
          </view>
        </view>
      </view>
    </view>
  </block>

  <!-- ç©ºçŠ¶æ€ -->
  <block wx:else>
    <view class="empty-state">
      <!-- é«˜ç‰ˆæœ¬ç³»ç»Ÿï¼šemoji -->
      <text wx:if="{{useFingerprintEmoji}}"
        class="empty-emoji">ğŸ«†</text>
      <!-- ä½ç‰ˆæœ¬æˆ–æœªçŸ¥ç³»ç»Ÿï¼šåŸå›¾ -->
      <image wx:else
        class="empty-image"
        src="/images/zw.png"
        mode="aspectFit" />
      <text class="empty-text">æš‚æ— ç›´æ’­å†…å®¹</text>
    </view>
  </block>
</view>