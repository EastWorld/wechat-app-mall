<view class="invoice-container">
  <!-- 空状态 -->
  <view wx:if="{{invoiceList.length <= 0}}" class="empty-state">
    <image class="empty-icon" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E%3Cpath fill='%23e0e0e0' d='M100 20 L180 60 L180 140 L100 180 L20 140 L20 60 Z'/%3E%3Cpath fill='%23f5f5f5' d='M100 40 L160 70 L160 130 L100 160 L40 130 L40 70 Z'/%3E%3Crect x='70' y='80' width='60' height='4' rx='2' fill='%23bdbdbd'/%3E%3Crect x='70' y='95' width='40' height='4' rx='2' fill='%23bdbdbd'/%3E%3Crect x='70' y='110' width='50' height='4' rx='2' fill='%23bdbdbd'/%3E%3C/svg%3E"></image>
    <view class="empty-text">暂无开票信息</view>
    <view class="empty-tip">您还没有申请过发票哦~</view>
  </view>

  <!-- 发票列表 -->
  <view class="invoice-list" wx:else>
    <view class="invoice-card" wx:for="{{invoiceList}}" wx:key="index">
      <!-- 卡片头部 -->
      <view class="card-header">
        <view class="header-left">
          <image class="invoice-icon" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23E4393C'%3E%3Cpath d='M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm4 18H6V4h7v5h5v11z'/%3E%3Cpath d='M8 12h8v2H8zm0 4h5v2H8z'/%3E%3C/svg%3E"></image>
          <text class="company-name">{{item.comName}}</text>
        </view>
        <view class="status-tag status-{{item.status}}">
          <text wx:if="{{item.status == 0}}">待处理</text>
          <text wx:if="{{item.status == 1}}">不通过</text>
          <text wx:if="{{item.status == 2}}">开票中</text>
          <text wx:if="{{item.status == 3}}">已开票</text>
        </view>
      </view>

      <!-- 卡片内容 -->
      <view class="card-content">
        <!-- 金额显示 -->
        <view class="amount-section">
          <text class="amount-label">开票金额</text>
          <text class="amount-value">¥{{item.amount}}</text>
        </view>

        <!-- 发票信息 -->
        <view class="info-section">
          <view class="info-item">
            <text class="info-label">发票内容</text>
            <text class="info-value">{{item.consumption}}</text>
          </view>
          <view class="info-item" wx:if="{{item.email}}">
            <text class="info-label">接收邮箱</text>
            <text class="info-value">{{item.email}}</text>
          </view>
          <view class="info-item">
            <text class="info-label">申请时间</text>
            <text class="info-value">{{item.dateAdd}}</text>
          </view>
        </view>
      </view>

      <!-- 已开票查看按钮 -->
      <view class="card-footer" wx:if="{{item.status == 3 && item.file}}">
        <view class="view-invoice-btn" data-file="{{item.file}}" bind:tap="download">
          <image class="btn-icon" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ffffff'%3E%3Cpath d='M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z'/%3E%3C/svg%3E"></image>
          <text class="btn-text">查看电子发票</text>
        </view>
      </view>
    </view>
  </view>
</view>